<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
	<head>
		<title>Invoking Dash from the command line Vim - Rants from the Ballmer Peak</title>
		<meta name="viewport" content="initial-scale=1, maximum-scale=1">
		<link rel="stylesheet" href="../../../css/normalize.css">
		<link rel="stylesheet" href="../../../css/style.css">
		<link href="../../../feed.xml" title="Articles" type="application/atom+xml" rel="alternate">
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	</head>
	<body>
		<h3><a href="../../../index.html">Rants from the Ballmer Peak</a> <a
				href="../../../feed.xml"><img
			alt="rss feed" src="../../../i/Feed-icon.svg"
			width="18pt" height="18pt"></a></h3>
		<h1>Invoking Dash from the command line Vim</h1><p><a href="http://kapeli.com/dash">Dash is a documentation browser and snippet manager for macosx</a> which is much better than Xcode's documentation tool, and also allows one to browse other documentations. You can for instance download <a href="http://forum.nimrod-lang.org/t/330">a Dash docset for Nimrod</a> and you will be able to instantly search <a href="http://nimrod-lang.org">Nimrod's</a> documentation. A global keyboard shortcut displays Dash on top of whatever you are doing, you type stuff, then can hide it and continue.</p>
<p>My editor of choice is <a href="http://www.vim.org">Vim</a> as invoked from the terminal command line, either the version which comes with MacOSX or one from <a href="http://www.macports.org">MacPorts</a>. Pressing the upper case <code>K</code> letter will make Vim invoke the man page viewer for whatever word your cursor is on top of. Wouldn't it be nice to have this integration with Dash too? Here's what I added to my <code>.vimrc</code> file:</p>
<pre class='literal'>&quot; Dash integration for objc and nimrod.
command! DashNim silent !open -g dash://nimrod:&quot;&lt;cword&gt;&quot;
command! DashDef silent !open -g dash://def:&quot;&lt;cword&gt;&quot;
nmap K :DashDef&lt;CR&gt;\|:redraw!&lt;CR&gt;
au FileType nim  nmap K :DashNim&lt;CR&gt;\|:redraw!&lt;CR&gt;</pre><p>What I define in these four lines of Vim configuration are two commands, <code>DashNim</code> and <code>DashDef</code>. The latter is bound to the upper case <code>K</code> letter by default. The former is bound to the same letter but only if the file type of your current Vim buffer is of Nimrod type, which allows for more specific keyword matches.  In Dash I have set up the default docs I search with the <code>def:</code> shortcut (see Dash's preferences).</p>
<p>With Dash installed, you can call the <code>open</code> command passing the <code>dash://</code> style URL with additional parameters, and there you have it, Vim will query Dash for the word your cursor is on top. The additional <code>redraw</code> commands are to avoid having to wait to press Enter when the viewer is invoked and to redraw the current screen afterwards. That's because Vim expects the external program to draw stuff on the screen, and by default waits for user interaction.</p>
<p>Having said this, when you look at Dash's integration preferences, for Vim it points to <a href="https://github.com/rizzatti/dash.vim#readme">https://github.com/rizzatti/dash.vim#readme</a>. I didn't manage to get that working, plus I don't understand why I have to install several software packages for what amounts to a few configuration lines in your <code>.vimrc</code> file. Maybe it offers more, but quick lookups are all I need for the moment.</p>
<pre class='literal'>&lt;K&gt;
No manual entry for nmap

El intérprete de órdenes devolvió 1

Pulse INTRO o escriba una orden para continuar</pre>
		<hr>
		<p>Published on: 15/02/2014 09:06. Last update: 15/02/2014 09:06. <a
			href="../../../feed.xml"><img
			alt="rss feed" src="../../../i/Feed-icon.svg"
			width="18pt" height="18pt"></a><br>
		Copyright 2014 by <a href="../../../about.html">Grzegorz Adam Hankiewicz</a>.<br>
		Generated with <a href="https://github.com/dom96/ipsumgenera">ipsum
			genera</a>. Look at <a
		href="https://github.com/gradha/gradha.github.io/tree/master/src">the
		source code</a>. Or look at <a href="../../../cookie-policy.html">my
	cookie policy which you implicitly accept</a>.</p>
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-48814780-1', 'gradha.github.io');
  ga('send', 'pageview');

</script>
	</body>
</html>
